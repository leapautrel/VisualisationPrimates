# get map
brisbane = get_map(location=sbbox, zoom=10,
maptype="terrain")
# create map
brisbanemap = ggmap(brisbane)
# display map
brisbanemap
sbbox <- make_bbox(lon = c(-50, -40), lat = c(-30, -20), f = 0)
southamerica <- get_map(location = sbbox, maptype = "terrain")
southamerica_map = ggmap(southamerica)
southamerica_map
southamerica_map
sbbox <- make_bbox(lon = c(-50, -40), lat = c(-30, -20), f = 0)
southamerica <- get_map(location = sbbox, maptype = "terrain")
southamerica_map = ggmap(southamerica)
southamerica_map
sbbox <- make_bbox(lon = c(min(occurrence$LONGITUDE_X), max(occurrence$LONGITUDE_X)),
lat = c(min(occurrence$LATITUDE_Y), max(occurrence$LATITUDE_Y)),
f = 0.001)
southamerica <- get_map(location = sbbox, maptype = "terrain")
southamerica_map = ggmap(southamerica)
southamerica_map
sbbox <- make_bbox(lon = c(min(occurrence$LONGITUDE_X), max(occurrence$LONGITUDE_X)),
lat = c(min(occurrence$LATITUDE_Y), max(occurrence$LATITUDE_Y)),
f = 0.01)
southamerica <- get_map(location = sbbox, maptype = "terrain")
southamerica_map = ggmap(southamerica)
southamerica_map
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y), size = 3)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y), size = 0.1)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y), size = 0.1, col = SPECIES)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y), size = 0.1, color = SPECIES)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y), size = 0.1, color = occurrence$SPECIES)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y, col = SPECIES), size = 0.1)
```{r fig.height=10}
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y, col = SPECIES), size = 0.1)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y, col = SPECIES), size = 0.5)
southamerica_map +
geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y, col = SPECIES), size = 2)
View(occurrence)
southamerica_map + geom_point(data = occurrence, aes(x = LONGITUDE_X, y = LATITUDE_Y, col = SPECIES), size = 1.2)
View(occurrence)
View(quantitative)
occurrence$SPECIES[1]
sps = occurrence$SPECIES[1]
sps
gsub( " .*$", "", sps )
occurrence %>%
group_by(SPECIES) %>%
summarise(n=n()) %>%
arrange(n) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5, fill = "green")+
coord_flip()+
theme_minimal()
occurrence %>%
group_by(SPECIES) %>%
summarise(n=n()) %>%
arrange(n) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
occurence$SPECIES <- gsub("^\\s+|\\s+$", "", occurence$SPECIES)
occurrence$SPECIES <- gsub("^\\s+|\\s+$", "", occurrence$SPECIES) # Enlève les espaces superflus
occurrence %>%
group_by(SPECIES) %>%
summarise(n=n()) %>%
arrange(n) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
occurrence %>%
group_by(SPECIES) %>%
summarise(n=n()) %>%
arrange(n)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n)
print(occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n))
print(occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n))
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
rm(list=ls())
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
library("rnaturalearth")
library("rnaturalearthdata")
quantitative <- read.csv("./Dataset/ATLANTIC-PR_Quantitative.csv", header = TRUE, sep = ";")
occurrence <- read.csv("./Dataset/ATLANTIC-PR_Occurrence.csv", header = TRUE, sep = ";")
community <- read.csv("./Dataset/ATLANTIC-PR_Community.csv", header = TRUE, sep = ";")
occurrence$SPECIES <- gsub("^\\s+|\\s+$", "", occurrence$SPECIES) # Enlève les espaces superflus
# print("occurence")
# dim(occurrence)
# str(occurrence)
#
# print("quantitative")
# dim(quantitative)
# str(quantitative)
#
# print("community")
# dim(community)
# str(community)
for (i in 29:35){
quantitative[,i] <- as.numeric(quantitative[,i])
}
summary(quantitative[,29:35])
summary(occurrence$ANNUAL_RAIN)
summary(occurrence$ALTITUDE)
summary(occurrence$ANNUAL_TEMP)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
print(occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n))
print(occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n))
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n)
occurrence$SPECIES <- factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$y)])
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
factor(SPECIES, levels = SPECIES[order(n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)])
occurrence$SPECIES
occurrence %>%
group_by(as.factor(SPECIES)) %>%
summarise(n = n()) %>%
factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
levels(occurrence$SPECIES)
occurrence$SPECIES <- as.factor(occurrence$SPECIES)
levels(occurrence$SPECIES)
occurrence %>%
group_by(as.factor(SPECIES)) %>%
summarise(n = n()) %>%
# factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
arrange(n) %>%
# factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)])
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
# arrange(n) %>%
factor(occurrence$SPECIES, levels = occurrence$SPECIES[order(occurrence$n)]) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
dta <- occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) # %>%
factor(dta$SPECIES, levels = dta$SPECIES[order(dta$n)])
d7ta <- occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)]))
dta <- occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)]))
levels(dta$SPECIES)
dta$SPECIES
dta <- occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
rm(list=ls())
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
library("rnaturalearth")
library("rnaturalearthdata")
quantitative <- read.csv("./Dataset/ATLANTIC-PR_Quantitative.csv", header = TRUE, sep = ";")
occurrence <- read.csv("./Dataset/ATLANTIC-PR_Occurrence.csv", header = TRUE, sep = ";")
community <- read.csv("./Dataset/ATLANTIC-PR_Community.csv", header = TRUE, sep = ";")
occurrence$SPECIES <- as.factor(gsub("^\\s+|\\s+$", "", occurrence$SPECIES)) # Enlève les espaces superflus
# print("occurence")
# dim(occurrence)
# str(occurrence)
#
# print("quantitative")
# dim(quantitative)
# str(quantitative)
#
# print("community")
# dim(community)
# str(community)
for (i in 29:35){
quantitative[,i] <- as.numeric(quantitative[,i])
}
summary(quantitative[,29:35])
summary(occurrence$ANNUAL_RAIN)
summary(occurrence$ALTITUDE)
summary(occurrence$ANNUAL_TEMP)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity",alpha = 0.5)+
coord_flip()+
theme_minimal()
library("ghibli")
install.packages("ghibli")
library("ghibli")
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_ghibli_d("PonyoMedium")
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_ghibli_d("SpiritedMedium")
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_ghibli_d("YesterdayMedium")
library(wesanderson)
?wes_palette
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_manual(wesanderson::wes_palette("Zissou1", n = 7, type = "discrete"))
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_manual(wesanderson::wes_palette("Zissou1", n = 7, type = "continuous"))
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_manual(wesanderson::wes_palette("Zissou1"))
?palette()
?viridis
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_manual(viridis(n=7))
library(viridisLite)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_manual(viridis(n=7))
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_viridis()
rm(list=ls())
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
library("rnaturalearth")
library("rnaturalearthdata")
library("ghibli")
library(wesanderson)
library(viridis)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_viridis()
rm(list=ls())
library("ggplot2") ; theme_set(theme_minimal())
library("ggmap")
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
library("rnaturalearth")
library("rnaturalearthdata")
library("ghibli")
library(wesanderson)
library(viridis)
quantitative <- read.csv("./Dataset/ATLANTIC-PR_Quantitative.csv", header = TRUE, sep = ";")
occurrence <- read.csv("./Dataset/ATLANTIC-PR_Occurrence.csv", header = TRUE, sep = ";")
community <- read.csv("./Dataset/ATLANTIC-PR_Community.csv", header = TRUE, sep = ";")
occurrence$SPECIES <- as.factor(gsub("^\\s+|\\s+$", "", occurrence$SPECIES)) # Enlève les espaces superflus
# print("occurence")
# dim(occurrence)
# str(occurrence)
#
# print("quantitative")
# dim(quantitative)
# str(quantitative)
#
# print("community")
# dim(community)
# str(community)
for (i in 29:35){
quantitative[,i] <- as.numeric(quantitative[,i])
}
summary(quantitative[,29:35])
summary(occurrence$ANNUAL_RAIN)
summary(occurrence$ALTITUDE)
summary(occurrence$ANNUAL_TEMP)
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_viridis()
occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_brewer(palette = "Dark2")
occurrence <- read.csv("../dataset/ATLANTIC-PR_Occurrence.csv", header = TRUE, sep = ";")
occurrence$SPECIES <- as.factor(gsub("^\\s+|\\s+$", "", occurrence$SPECIES)) # Enlève les espaces superflus
occurrence_barplot <- occurrence %>%
group_by(SPECIES) %>%
summarise(n = n()) %>%
mutate(SPECIES = factor(SPECIES, levels = SPECIES[order(n)])) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
ggplot(aes(x= SPECIES, y = n, fill = FAMILY))+
geom_bar(stat = "identity")+
coord_flip()+
theme_minimal() +
scale_fill_brewer(palette = "Dark2")
print(occurrence_barplot)
# Packages
library(flexdashboard)
library("ggplot2") ; theme_set(theme_minimal())
library("dplyr") ; options(dplyr.summarise.inform = FALSE)
# Données
occurrence <- read.csv("./dataset/ATLANTIC-PR_Occurrence.csv", header = TRUE, sep = ";")
occurrence$SPECIES <- as.factor(gsub("^\\s+|\\s+$", "", occurrence$SPECIES)) # Enlève les espaces superflus
occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES))
occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(FAMILY)
occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
group_by(FAMILY)
occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(unique(FAMILY))
nb_familles <- occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
distinct(FAMILY)
nb_familles
occurrence %>%
group_by(SPECIES) %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(FAMILY) %>%
distinct(FAMILY)
occurrence %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(FAMILY) %>%
distinct(FAMILY)
occurrence %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(FAMILY)
nb_familles <- nrow(occurrence %>%
mutate(FAMILY = gsub(" .*$", "", SPECIES)) %>%
select(FAMILY) %>%
distinct(FAMILY))
nb_espces <- 26
